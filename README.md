# docker-fullstack-app

ì›¹ í’€ìŠ¤íƒ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ **ë„ì»¤ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì ìš©í•˜ê¸° ìœ„í•œ í”„ë¡œì íŠ¸**ì…ë‹ˆë‹¤.<br>
í”„ë¡œì íŠ¸ì— ëŒ€í•œ í•´ê²° ê³¼ì •ì€ ì•„ë˜ **ê¸°ìˆ  ë¸”ë¡œê·¸**ë¥¼ í†µí•´ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>

[í•´ê²° ê³¼ì •](https://velog.io/@mdev97/K8S-Ingress-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%9D%BC%EC%9A%B0%ED%8C%85-%EA%B7%9C%EC%B9%99-%EC%A0%81%EC%9A%A9-Mac-M1-with-Docker-Desktop)

## ğŸ“ Summary
1. Reactì™€ Node.js ê·¸ë¦¬ê³  MySQLì„ ì‚¬ìš©í•œ í’€ìŠ¤íƒ ì›¹ ì„œë²„ **ë„ì»¤ ì´ë¯¸ì§€ë¥¼ í†µí•´ì„œ ì›¹ì„œë²„ì— ì ‘ê·¼**í•˜ëŠ” ì‹¤ìŠµ
2. ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì›¹ ì„œë²„ë¥¼ ë„ìš°ê³ , **Ingress ì˜¤ë¸Œì íŠ¸ë¥¼ í†µí•´ ë„ë©”ì¸ ë¼ìš°íŒ… ê·œì¹™ì„ ì ìš©**í•˜ê¸° ìœ„í•œ ì‹¤ìŠµ

<br>

## ğŸ’» Development Environment
- React 16.13.1
- Node.js 1.18.3
- Docker 24.0.6
- MySQL:8
- Kubernetes Client: v1.28.2
- Kubernetes Server: v1.27.2

<br>

## **â­ï¸ ì‹¤ìŠµê³¼ì œ**

ì£¼ì œëŠ” **ingress ì˜¤ë¸Œì íŠ¸ë¥¼ í†µí•´ ë„ë©”ì¸ ë¼ìš°íŒ… ê·œì¹™ ì ìš©í•˜ê¸°** ì…ë‹ˆë‹¤

**First! ë‘ ê°œì˜ ì„œë¹„ìŠ¤(Service) ë°°í¬**

ë¨¼ì €, ë‘ ê°œì˜ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•©ë‹ˆë‹¤. 

"web-service"ì™€ "api-service"ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í¬íŠ¸ 80ê³¼ 8080ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

- Service Object 2ê°œ

1. web-service ì˜¤ë¸Œì íŠ¸ 80 í¬íŠ¸

2. api-service ì˜¤ë¸Œì íŠ¸ 8080 í¬íŠ¸

- web-appì´ë¼ëŠ” ì´ë¦„ì˜ deployment ë°°í¬

1. ì›¹ ì—í”Œë¦¬ì¼€ì´ì…˜ Image ì¤‘ í•˜ë‚˜

2. ReplicasëŠ” 2

3. Container PortëŠ” 80

- api-app ì´ë¼ëŠ” ì´ë¦„ì˜ deployment ë°°í¬.

1. API ì–´í”Œë¦¬ì¼€ì´ì…˜ Image ì¤‘ í•˜ë‚˜.

2. ReplicasëŠ” 2

3. Container PortëŠ” 8080

---

**Second! Ingress ë¦¬ì†ŒìŠ¤ ìƒì„±**

ë‹¤ìŒìœ¼ë¡œ, Ingress ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì„œë¹„ìŠ¤ë“¤ì„ ë¼ìš°íŒ…í•  ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤.

---

**Third! Ingress ì ìš©**

Ingress ë¦¬ì†ŒìŠ¤ë¥¼ ì ìš©í•˜ì—¬ ì™¸ë¶€ì—ì„œ [yourdomain.com/web](http://yourdomain.com/web) ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ "web-service"ë¡œ

[yourdomain.com/api](http://yourdomain.com/api) ë¡œ ì ‘ê·¼í•˜ë©´ "api-service"ë¡œ ì—°ê²°ë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

---

**Last! ìœ„ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Ingress ë¦¬ì†ŒìŠ¤ë¥¼ ì ìš©í•©ë‹ˆë‹¤.** 

ê·¸ë¦¬ê³  ë‚˜ì„œ ë„ë©”ì¸ ì£¼ì†Œë¥¼ í†µí•´ [yourdomain.com/web](http://yourdomain.com/web) ê³¼ [yourdomain.com/api](http://yourdomain.com/api) ë¡œ ì ‘ê·¼í•´ë³´ì„¸ìš”.

ì´ë ‡ê²Œ ì„¤ì •ëœ Ingressë¥¼ í†µí•´ ì„œë¹„ìŠ¤ë“¤ì´ ì œëŒ€ë¡œ ë¼ìš°íŒ…ë˜ëŠ”ì§€ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€» ë„ë©”ì¸ ì£¼ì†Œì˜ DNS ì„¤ì •ì€ ë”°ë¡œ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

<br>

## **â—‰ í•´ê²°ê³¼ì •**

**ğŸ“ŒÂ ì‹¤ìŠµ ì‹œì‘ ì „ ì˜ˆìƒ ë‹¤ì´ì–´ê·¸ë¨**
![diagram](https://github.com/moonstar0331/docker-fullstack-app/assets/79830859/c23d922c-f194-4971-a968-2c5f4d05cbc5)
